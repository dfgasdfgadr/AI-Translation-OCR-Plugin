# AI 浏览器翻译插件 - 使用说明书

本插件是一款基于 AI 大模型的浏览器辅助工具，支持**中英互译**、**网页划词翻译**、**截图翻译**以及**图片粘贴翻译**。

## 📦 第一步：安装插件

由于本插件处于开发/源码阶段，需要手动加载到 Chrome 浏览器中：

1.  **准备文件**：
    *   确保项目已构建（如果文件夹中没有 `dist` 目录，请在终端运行 `npm run build`）。
2.  **打开扩展程序页面**：
    *   在 Chrome 浏览器地址栏输入：`chrome://extensions/` 并回车。
3.  **开启开发者模式**：
    *   点击页面右上角的 **"开发者模式" (Developer mode)** 开关将其打开。
4.  **加载插件**：
    *   点击左上角的 **"加载已解压的扩展程序" (Load unpacked)** 按钮。
    *   在弹出的文件选择框中，找到本项目下的 **`dist`** 文件夹并选择。
    *   此时你应该能看到 "AI Translation & OCR Plugin" 出现在列表中。

## ⚙️ 第二步：配置 API (关键)

插件需要连接 AI 模型才能工作。支持所有兼容 OpenAI 接口格式的模型（如 OpenAI GPT, DeepSeek, Moonshot/Kimi 等）。

1.  **打开设置**：
    *   点击浏览器右上角的插件拼图图标 🧩，找到 "AI Translation & OCR Plugin" 并点击。
    *   在弹出的窗口中，点击右上角的 **齿轮 ⚙️ 图标** 进入设置页。
2.  **填写信息**：
    *   **API Endpoint**: 接口地址。
        *   OpenAI 默认: `https://api.openai.com/v1/chat/completions`
        *   DeepSeek 示例: `https://api.deepseek.com/chat/completions`
        *   Kimi (Moonshot) 示例: `https://api.moonshot.cn/v1/chat/completions`
    *   **API Key**: 您的密钥 (以 `sk-` 开头)。
    *   **Model Name**: 模型名称 (如 `gpt-3.5-turbo`, `deepseek-chat`, `moonshot-v1-8k`)。
3.  **自定义快捷键** (可选)：
    *   在设置页底部，点击输入框并按下您想要的组合键（如 `Ctrl+Q`）即可修改划词翻译或截图的快捷键。
4.  **保存**：
    *   点击 **Save** 按钮，看到 "Saved!" 提示即配置成功。

## 🚀 第三步：功能使用

### 1. 📝 文本互译 (弹窗模式)
*   点击插件图标打开弹窗。
*   在输入框中输入中文或英文。
*   点击 **Translate** 按钮（或按 `Ctrl+Enter` / `Cmd+Enter`）。
*   插件会自动识别语言并翻译。

### 2. 🔍 网页划词翻译
*   在任意网页上，使用鼠标**选中**一段文本。
*   选区附近会自动浮现一个 **"译"** 字图标，点击即可翻译。
*   或者按下快捷键 **`Alt+T`** (默认) 直接翻译。

### 3. 📸 截图翻译
*   在网页上按下快捷键 **`Alt+Shift+S`** (默认)。
*   屏幕会变暗，鼠标变为十字形。
*   **按住鼠标左键拖拽**，框选您想翻译的区域（包含文字的图片或网页区域）。
*   松开鼠标，插件会自动进行 OCR 文字识别，并在框选位置显示翻译结果。

### 4. 🖼️ 图片粘贴翻译
*   如果您有一张包含文字的图片（例如微信截图、报错信息截图）。
*   先复制该图片（`Ctrl+C`）。
*   打开插件弹窗，点击输入框，然后粘贴（`Ctrl+V`）。
*   插件会显示图片预览，自动提取其中的文字填入输入框，随后您可以点击翻译。

## ❓ 常见问题

**Q: 翻译一直转圈不显示结果？**
A: 请检查设置中的 API Key 是否正确，以及您的网络是否能访问对应的 API Endpoint（例如 OpenAI 需要科学上网，国内大模型则不需要）。

**Q: 截图后没反应？**
A: 
1. 确保页面已加载完成。
2. 某些浏览器受限页面（如 `chrome://` 开头的页面）无法注入脚本，请在普通网页测试。
3. 检查快捷键是否被其他软件占用，可在 `chrome://extensions/shortcuts` 中修改。

**Q: OCR 识别不准？**
A: 目前使用的是轻量级离线模型 (Tesseract.js)，对复杂背景或手写体的识别率有限。尽量截取清晰、背景干净的文字区域。
